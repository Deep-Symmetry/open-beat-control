= Open Beat Control User Guide
James Elliott <james@deepsymmetry.org>
:icons: font
:experimental:

// Set up support for relative links on GitHub, and give it
// usable icons for admonitions, w00t! Add more conditions
// if you need to support other environments and extensions.
ifdef::env-github[]
:outfilesuffix: .adoc
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::env-github[]

// Render section header anchors in a GitHub-compatible way.
ifndef::env-github[]
:idprefix:
:idseparator: -
endif::env-github[]

This is an introduction to the Open Beat Control utility, describing
the OSC messages you can use to interact with it. This guide shows
some ways you can use it, but as an open-ended environment, the
possibilities are endless. If you have questions or other approaches
you’d like to share, please post to the
https://gitter.im/brunchboy/beat-link-trigger[Beat Link Trigger Gitter
chat room].

To keep page sizes manageable, this guide is split into several pages.
It is worth reading through this whole guide once if you are new to
Open Beat Control. Once you know what you are looking for, you can
also dive right into it by jumping to the page you want using the
navigation menu on the left.

[[startup]]
== Startup

When you launch Open Beat Control, it does not display any visible
user interface, it simply logs out informational messages to the
console (or to the log file you have specified in the command-line
arguments you provided). This is because, unlike the rich GUI of
https://github.com/Deep-Symmetry/beat-link-trigger[Beat Link Trigger],
this project is intended to be used on less-powerful computers which
often lack displays completely. The log can be viewed to troubleshoot
issues when things are not working the way you expect, but your
general interaction with the program will be by sending and receiving
OSC messages.

Details of how to obtain Open Beat Control and the Java environment
needed to run it can be found on the
https://github.com/Deep-Symmetry/open-beat-control#installation[project
page].

Assuming you have configured your command path so that the JDK's
`java` command is available, you can start Open Beat Control by simply
typing the following command in a terminal session (or include it in a
shell or command script):

----
java -jar open-beat-control.jar
----

This will log any informational and error messages to the terminal
window in which you are running it. If you are configuring your system
startup scripts to run Open Beat Control, you probably also want to
set up a log-file path, so that these messages are sent to a rotated
log file in your standard system logs directory, along these lines:

----
java -jar open-beat-control.jar -L /var/log/open-beat-control.log
----

[TIP]
====
If you are running on a Mac, and want to avoid having a useless "java"
dock icon appear, with a menubar that has no helpful content, you can
tell Java that this is a background-only application with no user
interface by adding `-Dapple.awt.UIElement=true` before the `-jar`
section of the `java` invocation:

----
java -Dapple.awt.UIElement=true -jar open-beat-control.jar
----
====

There are other command-line options you can use as well.

[[options]]
=== Options

----
-o, --osc-port PORT  17002  Port number of OSC server
-r, --real-player           Try to pose as a real CDJ (device #1-4)
-L, --log-file PATH         Log to a rotated file instead of stdout
-h, --help                  Display help information and exit
----

==== Posing as a real CDJ

Unless you supply the `-r` or `--real-player` option, the Beat Link
library will use an unused device number greater than 4. This means it
can safely operate even when there are four real CDJs on the network
(they will be using numbers 1 through 4). Thanks to a lot of clever
research and trickery, we have figured out how to get most features
working even when operating in this mode.

But some things are simply impossible: if you want to be able to
control the tempo of the CDJs, then Beat Link needs to be using a real
player number. Passing this option tells it to try; if you have four
players on the network, you will have to turn one of them off before
starting Open Beat Control for this to work.

== Learning More

****

* Continue to <<Communicating#communicating,Communicating>>

****

[[what-next]]
== What Next?

Hopefully this guide has been enough to get you started, and thinking
about interesting ways you can synchronize your CDJs with other
elements of your show. (If you have not yet read the other pages in
the guide, please do so, either using the “Learning More” links in
each page—like the one right above—or by exploring the navigation menu
on the left.)

If you have any thoughts, questions, your own integration examples, or
even crazy ideas, please share them in the
https://gitter.im/brunchboy/beat-link-trigger[Beat Link Trigger Gitter
chat]!

If you find what seems to be an actual problem with the software,
please open an
https://github.com/Deep-Symmetry/open-beat-control/issues[Issue], or
at least check whether someone else already has.

Thanks for reading this, and have fun with Open Beat Control! I hope
to hear from you.

=== Funding

Open Beat Control is, and will remain, completely free and
open-source. If it has helped you, taught you something, or pleased
you, let us know and share some of your discoveries and code as
described above. If you’d like to financially support its ongoing
development, you are welcome (but by no means obligated) to donate
towards the hundreds of hours of research, development, and writing
that have already been invested. Or perhaps to facilitate future
efforts, tools, toys, and time to explore.

+++
<a href="https://liberapay.com/deep-symmetry/donate"><img align="center" alt="Donate using Liberapay"
    src="https://liberapay.com/assets/widgets/donate.svg"></a> using Liberapay, or
<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=J26G6ULJKV8RL"><img align="center"
    alt="Donate" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif"></a> using PayPal
+++

include::partial$Footer.adoc[]


== Library Licenses

=== https://sourceforge.net/projects/remotetea/[Remote Tea]

Used for communicating with the NFSv2 servers on players, licensed
under the https://opensource.org/licenses/LGPL-2.0[GNU Library General
Public License, version 2].

=== The http://kaitai.io[Kaitai Struct] Java runtime

Used for parsing rekordbox exports and media analysis files, licensed
under the https://opensource.org/licenses/MIT[MIT License].
